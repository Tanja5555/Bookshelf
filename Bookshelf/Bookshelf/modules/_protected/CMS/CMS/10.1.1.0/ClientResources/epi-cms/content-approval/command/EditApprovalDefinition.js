//>>built
define("epi-cms/content-approval/command/EditApprovalDefinition",["dojo/_base/declare","dojo/topic","dojo/when","epi/dependency","epi-cms/contentediting/ContentActionSupport","epi/i18n!epi/nls/episerver.cms.contentapproval.command.edit","epi/shell/command/_Command"],function(_1,_2,_3,_4,_5,_6,_7){return _1([_7],{canExecute:false,contentActionSupport:null,iconClass:"epi-iconApproval",isAvailable:false,label:null,postscript:function(){this.inherited(arguments);this.contentActionSupport=this.contentActionSupport||_5;this.profile=this.profile||_4.resolve("epi.shell.Profile");},_onModelChange:function(){if(!this.model){this._setEnabledState(false);return;}this._setEnabledState(true);var _8=this.contentActionSupport.hasAccess(this.model.accessMask,this.contentActionSupport.accessLevel.Administer);this.set("label",_8?_6.editlabel:_6.viewlabel);},_setEnabledState:function(_9){_3(this.profile.get("isEPiBetaUser"),function(_a){this.set("isAvailable",!!_9&&_a);}.bind(this));this.set("canExecute",!!_9);},_execute:function(){_2.publish("/epi/shell/context/request",{uri:"epi.cms.approval:///"+this.model.contentLink},{sender:null});}});});