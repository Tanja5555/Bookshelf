//>>built
require({cache:{"url:epi-packaging/templates/NavigationMenu.htm":"<div class=\"epi-verticalMenu\">\r\n    <div data-dojo-type=\"dijit/DropDownMenu\" data-dojo-attach-point=\"verticalMenu\" class=\"epi-dropDownNavigation epi-wrapped\">\r\n        <div data-dojo-type=\"dijit/MenuItem\" id=\"installed\">${res.installeditemlabel}</div>\r\n        <!-- dynamic list of feeds goes here -->\r\n        <div data-dojo-type=\"dijit/MenuItem\" id=\"updates\">${res.updatesitemlabel}</div>\r\n    </div>\r\n</div>"}});define("epi-packaging/NavigationMenu",["dojo","dojo/hash","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/DropDownMenu","dijit/MenuItem","epi/routes","epi/shell/XhrWrapper","dojo/text!./templates/NavigationMenu.htm","epi/i18n!epi/packaging/nls/EPiServer.Packaging.UI.Navigation","epi/i18n!epi/packaging/nls/EPiServer.Packaging.UI.Feeds"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){return _1.declare([_3,_4,_5],{templateString:_a,antiForgeryData:"",res:_b,resFeeds:_c,_viewDictionary:{"installed":"epi-packaging/InstalledSection","updates":"epi-packaging/UpdateableSection"},constructor:function(){this._xhr=new _9();},startup:function(){this.inherited(arguments);var _d={};this.antiForgeryData.AddAntiforgeryToken(_d);this._xhr.xhrPost({content:_d,url:_8.getActionPath({moduleArea:"EPiServer.Packaging.UI",controller:"AddOns",action:"GetFeedNames"}),handleAs:"json",load:_1.hitch(this,function(_e,_f){for(var i=0;i<_e.feeds.length;i++){var _10=this.resFeeds[_e.feeds[i].toLowerCase()];this.verticalMenu.addChild(new _7({id:_e.feeds[i],label:_10?_10.title:_e.feeds[i]}),1+i);this._viewDictionary[_e.feeds[i]]="epi-packaging/GallerySection";}var _11=dijit.byId("installed");if(_1.hash()!=""){var _12=dijit.byId(_1.hash());if(_12){_11=_12;}}this.verticalMenu.onItemClick(_11);})});_1.connect(this.verticalMenu,"onItemClick",this,function(_13){this._requestChangeView(_13.id);});this.subscribe("/epi/shell/action/viewchanged",_1.hitch(this,function(_14,_15,_16){if(_16){for(var id in this._viewDictionary){if(id==_16.feedName){this._selectItemById(id);return;}}}this._selectItemById(null);}));_1.subscribe("/dojo/hashchange",this,function(_17){if(_17!=""){var _18=dijit.byId(_17);if(_18&&!_18.selected){this.verticalMenu.onItemClick(_18);}}});},_requestChangeView:function(id){var _19=id?this._viewDictionary[id]:null;if(_19){_1.publish("/epi/shell/action/changeview",[_19,null,{"feedName":id}]);}},_selectItemById:function(id){_1.forEach(this.verticalMenu.getChildren(),function(_1a){_1a.set("selected",false);});if(id){var _1b=dijit.byId(id);if(_1b){_1b.set("selected",true);_1.hash(_1b.id);}}}});});